---
page_title: "test_ssm_activation Resource - terraform-provider-test"
subcategory: ""
description: |-
The `test_ssm_activation` resource creates and manages SSM activations with automatic renewal, secret management, and expiration configuration. This resource automatically renews expired activations and can optionally store activation data in AWS Secrets Manager.
---

# test_ssm_activation

The `test_ssm_activation` resource creates and manages SSM activations with automatic renewal, secret management, and expiration configuration. This resource automatically renews expired activations and can optionally store activation data in AWS Secrets Manager.

## Example Usage

```terraform
# Example usage of the test_ssm_activation resource

# Basic SSM activation
resource "test_ssm_activation" "basic" {
  iam_role    = "SSMServiceRole"
  secret_name = "my/activation/secret"
  description = "Basic SSM activation for hybrid instances"
}

# SSM activation with custom expiration date
resource "test_ssm_activation" "with_expiration" {
  iam_role    = "SSMServiceRole"
  secret_name = "my/activation/secret"
  description = "SSM activation with custom expiration"
  
  expiration_date {
    days    = 10
    hours   = 8
    minutes = 6
  }
}

# SSM activation with secret management
resource "test_ssm_activation" "with_secret" {
  iam_role    = "SSMServiceRole"
  description = "SSM activation with secret management"
  secret_name = "my/activation/code"
  managed     = true
}

# SSM activation with tags
resource "test_ssm_activation" "with_tags" {
  iam_role    = "SSMServiceRole"
  secret_name = "my/activation/secret"
  description = "SSM activation with tags"
  
  tags = {
    Environment = "production"
    Project     = "hybrid-cloud"
    Owner       = "platform-team"
  }
}

# SSM activation with registration limit
resource "test_ssm_activation" "with_limit" {
  iam_role          = "arn:aws:iam::123456789012:role/SSMServiceRole"
  secret_name       = "my/activation/limit"
  description       = "SSM activation with registration limit"
  registration_limit = 5
}

# Outputs
output "basic_activation_id" {
  description = "The ID of the basic SSM activation"
  value       = test_ssm_activation.basic.activation_id
}

output "basic_activation_code" {
  description = "The activation code of the basic SSM activation"
  value       = test_ssm_activation.basic.activation_code
  sensitive   = true
}

output "secret_activation_arn" {
  description = "The ARN of the secret containing activation data"
  value       = test_ssm_activation.with_secret.secret_arn
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `iam_role` (String) The IAM role name to use for the SSM activation.
- `secret_name` (String) The name of the AWS Secrets Manager secret to store activation data. Activation data will be automatically stored in this secret.

### Optional

- `description` (String) The description of the SSM activation.
- `expiration_date` (Block, Optional) Configuration for the expiration date of the SSM activation. The total duration cannot exceed 30 days. (see [below for nested schema](#nestedblock--expiration_date))
- `managed` (Boolean) Whether the secret is managed by this resource. If true, the secret will be created and deleted by this resource. If false, the resource will only update an existing secret. Defaults to false.
- `registration_limit` (Number) The maximum number of managed instances that can be registered using this activation. Defaults to 1.
- `tags` (Map of String) A map of tags to assign to the SSM activation.

### Read-Only

- `activation_code` (String, Sensitive) The activation code for the SSM activation.
- `activation_id` (String) The activation ID for the SSM activation.
- `expired` (Boolean) Whether the SSM activation has expired.
- `id` (String) The ID of the SSM activation.
- `secret_arn` (String) The ARN of the AWS Secrets Manager secret containing activation data.
- `secret_version` (String) The version ID of the AWS Secrets Manager secret containing activation data.

<a id="nestedblock--expiration_date"></a>
### Nested Schema for `expiration_date`

Optional:

- `days` (Number) Number of days until expiration. Must be positive. Defaults to 30.
- `hours` (Number) Number of hours until expiration. Must be positive. Defaults to 0.
- `minutes` (Number) Number of minutes until expiration. Must be positive. Defaults to 0.



